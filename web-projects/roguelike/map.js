/*
 * Map class
 *
 * 70 by 23
 * array of entities
 */

function Map(){
	this.map = [
		// default map is just this
	"######################################################################",   
  	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"#....................................................................#",   
	"######################################################################"  ];
	for (i = 0; i < this.map.length; i += 1) {
 		   this.map[i] = this.map[i].split('');
	}
	
	this.entities = [];
	this.items = []; // items that are on the floor

	this.updateEntities = function(){

	}

	this.setStaircases = function( x1, y1, x2, y2 ){
		this.map[y1][x1] = "<";
		this.map[y2][x2] = ">";
	}

	// makes a random exit
	this.addRoom = function(x, y, w, h){
		for(var rX = 0; rX < w+1; ++rX){
			this.addWall(rX+x, y);
			this.addWall(rX+x, y+h);
		}
		for(var rY = 0; rY < h; ++rY){
			this.addWall(x, rY+y);
			this.addWall(x+w, rY+y);
		}
	}

	this.removeWall = function(x, y){
		this.map[y][x] = '.';
	}

	this.addWall   = function(x, y){
		this.map[y][x] = '#';
	}

	this.addEntity = function(entity){
		this.entities.push(entity);
	}
}
